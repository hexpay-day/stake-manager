<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.hexpay.day/api/StakeEnder/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>StakeEnder - Stake Manager</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "StakeEnder";
        var mkdocs_page_input_path = "api/StakeEnder.md";
        var mkdocs_page_url = "/api/StakeEnder/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../logo.jpeg" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Stake Manager</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../Features/">Features</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../ToughConversation/">ToughConversation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Api</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../AuthorizationManager/">AuthorizationManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Bank/">Bank</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CurrencyList/">CurrencyList</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EarningsOracle/">EarningsOracle</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EncodableSettings/">EncodableSettings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ExistingStakeManager/">ExistingStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GoodAccounting/">GoodAccounting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../HSIStakeManager/">HSIStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../IsolatedStakeManager/">IsolatedStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../IsolatedStakeManagerFactory/">IsolatedStakeManagerFactory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Magnitude/">Magnitude</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MaximusStakeManager/">MaximusStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MulticallExtension/">MulticallExtension</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Ownable2Step/">Ownable2Step</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SingletonCommunis/">SingletonCommunis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SingletonMintManager/">SingletonMintManager</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">StakeEnder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../StakeInfo/">StakeInfo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../StakeManager/">StakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../StakeStarter/">StakeStarter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Tipper/">Tipper</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TransferableStakeManager/">TransferableStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UnderlyingStakeManager/">UnderlyingStakeManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UnderlyingStakeable/">UnderlyingStakeable</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Utils/">Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Interfaces</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/Communis/">Communis</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/ExternalPerpetualFilter/">ExternalPerpetualFilter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/GasReimberser/">GasReimberser</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/HEX/">HEX</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/HEXStakeInstanceManager/">HEXStakeInstanceManager</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/Hedron/">Hedron</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/IUnderlyingStakeable/">IUnderlyingStakeable</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/MaximusPerpetual/">MaximusPerpetual</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/Multicall/">Multicall</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/PublicEndStakeable/">PublicEndStakeable</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../interfaces/StakeReceiver/">StakeReceiver</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Stake Manager</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Api</li>
      <li class="breadcrumb-item active">StakeEnder</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="stakeender">StakeEnder</h2>
<h3 id="index_right_today">INDEX_RIGHT_TODAY</h3>
<pre><code class="language-solidity">uint256 INDEX_RIGHT_TODAY
</code></pre>
<h3 id="stakeendbyconsentwithtipto">stakeEndByConsentWithTipTo</h3>
<pre><code class="language-solidity">function stakeEndByConsentWithTipTo(uint256 stakeId, address tipTo) external payable returns (bool)
</code></pre>
<p>end a stake, given its settings, and tip to a given address</p>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stakeId</td>
<td>uint256</td>
<td>the stake id being targeted for ending</td>
</tr>
<tr>
<td>tipTo</td>
<td>address</td>
<td>where to send tokens from tips</td>
</tr>
</tbody>
</table>
<h4 id="return-values">Return Values</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[0]</td>
<td>bool</td>
<td>count the current day and number of stakes remaining concatted with</td>
</tr>
</tbody>
</table>
<h3 id="_stakeendbyconsent">_stakeEndByConsent</h3>
<pre><code class="language-solidity">function _stakeEndByConsent(uint256 stakeId, address tipTo, uint256 count) internal returns (uint256)
</code></pre>
<p>end a stake with the consent of the underlying staker's settings
hedron minting happens as last step before end stake</p>
<p><em>the stake count is today | stake count because
if there were 2 variables, the contract ended up too large</em></p>
<h4 id="parameters_1">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stakeId</td>
<td>uint256</td>
<td>the stake id to end</td>
</tr>
<tr>
<td>tipTo</td>
<td>address</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>uint256</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="return-values_1">Return Values</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[0]</td>
<td>uint256</td>
<td>delta the amount of hex at the end of the stake</td>
</tr>
</tbody>
</table>
<h3 id="stakeendbyconsentformanywithtipto">stakeEndByConsentForManyWithTipTo</h3>
<pre><code class="language-solidity">function stakeEndByConsentForManyWithTipTo(uint256[] stakeIds, address tipTo) external payable returns (uint256, uint256[])
</code></pre>
<p>end many stakes at the same time
provides an optimized path for all stake ends
and assumes that detectable failures should be skipped
this method should, generally, only be called when multiple enders
are attempting to end stake the same stakes</p>
<h4 id="parameters_2">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stakeIds</td>
<td>uint256[]</td>
<td>stake ids to end</td>
</tr>
<tr>
<td>tipTo</td>
<td>address</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="return-values_2">Return Values</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[0]</td>
<td>uint256</td>
<td>ended a counter</td>
</tr>
<tr>
<td>[1]</td>
<td>uint256[]</td>
<td></td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SingletonMintManager/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../StakeInfo/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/highlightjs-solidity@2.0.6/dist/solidity.min.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
